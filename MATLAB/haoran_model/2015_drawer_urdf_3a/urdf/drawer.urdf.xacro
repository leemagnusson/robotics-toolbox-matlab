<?xml version="1.0"?>

<!-- XML namespaces -->
<robot xmlns:xacro="http://ros.org/wiki/xacro" name="bed_drawer">
<xacro:macro name="material_1">
  <material name="gray1">
    <color rgba="0.792156862745098 0.819607843137255 0.933333333333333 1" />
  </material>
</xacro:macro>
<xacro:macro name="material_2">
  <material name="gray2">
    <color rgba="0.752941176470588 0.752941176470588 0.752941176470588 1" />
  </material>
</xacro:macro>
<xacro:macro name="default_origin">
  <origin xyz="0 0 0" rpy="0 0 0"/>
</xacro:macro>

<xacro:macro name="default_visual">
  <visual>
    <origin xyz="0 0 0" rpy="0 0 0 " />
    <geometry>
      <box size="0.001 0.001 0.001"/>
    </geometry>
    <material name="default_material" >
      <color rgba="0.752941176470588 0.752941176470588 0.752941176470588 1" />
    </material>
  </visual>
  <collision>
    <box size="0.001 0.001 0.001"/>
    <geometry>
      <box size="0.001 0.001 0.001"/>
    </geometry>
  </collision>
</xacro:macro>

<xacro:macro name="default_fixed_joint" >
    <axis
      xyz="0 0 0" />
    <limit
      lower="0"
      upper="0"
      effort="0"
      velocity="0" />
</xacro:macro>

  <link name="common_robot_frame"/>
  <link
    name="bed_base_link">
    <inertial>
      <origin
        xyz="-0.131602965768192 -1.31458389088654E-05 0.424560708267021"
        rpy="0 0 0" />
      <mass
        value="220.861213301065" />
      <inertia
        ixx="17.0412486434188"
        ixy="-0.00369906898155943"
        ixz="6.62999788327738"
        iyy="63.6679488186394"
        iyz="-0.000297127244615984"
        izz="56.5939202197707" />
    </inertial>
    <visual>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://2015_drawer_urdf_3a/meshes/bed_base_link.STL" />
      </geometry>
      <material
        name="">
        <color
          rgba="1 1 0.752941176470588 1" />
      </material>
    </visual>
    <collision>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://2015_drawer_urdf_3a/meshes/bed_base_link.STL" />
      </geometry>
    </collision>
  </link>
  <joint name="bed_world_joint" type="floating">
    <child link="bed_base_link"/>
    <parent link="common_robot_frame"/>
    <origin rpy="0 0 0" xyz="0 0 0"/>
  </joint>
  <link
    name="bed_raise_1_link">
    <inertial>
      <origin
        xyz="-1.99815231730176E-33 -4.27276067386562E-18 0.142514003145377"
        rpy="0 0 0" />
      <mass
        value="1.24228157237718" />
      <inertia
        ixx="0.00789389297402003"
        ixy="-9.52796335324707E-36"
        ixz="3.82035664017243E-34"
        iyy="0.00789389297402004"
        iyz="3.67826563901197E-18"
        izz="0.0107451129457144" />
    </inertial>
    <visual>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://2015_drawer_urdf_3a/meshes/bed_raise_1_link.STL" />
      </geometry>
      <material
        name="">
        <color
          rgba="0.792156862745098 0.819607843137255 0.933333333333333 1" />
      </material>
    </visual>
    <collision>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://2015_drawer_urdf_3a/meshes/bed_raise_1_link.STL" />
      </geometry>
    </collision>
  </link>
  <joint
    name="bed_raisebed1_joint"
    type="prismatic">
    <origin
      xyz="0 0 0.14859"
      rpy="0 0 0" />
    <parent
      link="bed_base_link" />
    <child
      link="bed_raise_1_link" />
    <axis
      xyz="0 0 -1" />
    <limit
      lower="0.00254"
      upper="0.1524"
      effort="0"
      velocity="0" />
  </joint>
  <link
    name="bed_raise_2_link">
    <inertial>
      <origin
        xyz="8.64073602451139E-20 1.50296821912865E-18 0.11748156814415"
        rpy="0 0 0" />
      <mass
        value="1.33771407866088" />
      <inertia
        ixx="0.00890960520031803"
        ixy="6.49139454712423E-19"
        ixz="-9.00775139575257E-21"
        iyy="0.00890960520031804"
        iyz="4.46757691140295E-19"
        izz="0.0122471599227618" />
    </inertial>
    <visual>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://2015_drawer_urdf_3a/meshes/bed_raise_2_link.STL" />
      </geometry>
      <material
        name="">
        <color
          rgba="0.792156862745098 0.819607843137255 0.933333333333333 1" />
      </material>
    </visual>
    <collision>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://2015_drawer_urdf_3a/meshes/bed_raise_2_link.STL" />
      </geometry>
    </collision>
  </link>
  <joint
    name="bed_raisebed2_joint"
    type="prismatic">
    <origin
      xyz="0 0 0.049604"
      rpy="6.9389E-18 -1.6263E-18 -7.2858E-17" />
    <parent
      link="bed_raise_1_link" />
    <child
      link="bed_raise_2_link" />
    <axis
      xyz="0 0 -1" />
    <limit
      lower="0"
      upper="0.1281938"
      effort="0"
      velocity="0" />
  </joint>
  <link
    name="bed_raise_3_link">
    <inertial>
      <origin
        xyz="-0.131602965768195 -1.31458389134051E-05 0.20096670816103"
        rpy="0 0 0" />
      <mass
        value="220.861213301065" />
      <inertia
        ixx="17.0412486434191"
        ixy="-0.00369906898203669"
        ixz="6.62999788327741"
        iyy="63.6679488186396"
        iyz="-0.000297127245286047"
        izz="56.5939202197706" />
    </inertial>
    <visual>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://2015_drawer_urdf_3a/meshes/bed_raise_3_link.STL" />
      </geometry>
      <material
        name="">
        <color
          rgba="1 1 0.752941176470588 1" />
      </material>
    </visual>
    <collision>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://2015_drawer_urdf_3a/meshes/bed_raise_3_link.STL" />
      </geometry>
    </collision>
  </link>
  <joint
    name="bed_raisebed3_joint"
    type="prismatic">
    <origin
      xyz="0 0 0.0254"
      rpy="-6.9389E-18 1.6263E-18 7.2858E-17" />
    <parent
      link="bed_raise_2_link" />
    <child
      link="bed_raise_3_link" />
    <axis
      xyz="0 0 -1" />
    <limit
      lower="0"
      upper="0.1280938"
      effort="0"
      velocity="0" />
  </joint>
  <link
    name="bed_roll_link">
    <inertial>
      <origin
        xyz="-0.206532965768191 -1.31458389258951E-05 -0.000419111910467174"
        rpy="0 0 0" />
      <mass
        value="220.861213301065" />
      <inertia
        ixx="17.0412486434192"
        ixy="-0.00369906898209181"
        ixz="6.6299978832765"
        iyy="63.6679488186395"
        iyz="-0.000297127245203958"
        izz="56.5939202197703" />
    </inertial>
    <visual>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://2015_drawer_urdf_3a/meshes/bed_roll_link.STL" />
      </geometry>
      <material
        name="">
        <color
          rgba="1 1 0.752941176470588 1" />
      </material>
    </visual>
    <collision>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://2015_drawer_urdf_3a/meshes/bed_roll_link.STL" />
      </geometry>
    </collision>
  </link>
  <joint
    name="bed_roll_joint"
    type="revolute">
    <origin
      xyz="0.07493 0 0.20139"
      rpy="0 0 1.41E-16" />
    <parent
      link="bed_raise_3_link" />
    <child
      link="bed_roll_link" />
    <axis
      xyz="1 0 0" />
    <limit
      lower="-0.314159"
      upper="0.314159"
      effort="0"
      velocity="0" />
  </joint>
  <link
    name="bed_legs_link">
    <inertial>
      <origin
        xyz="-0.303754476390812 -1.31458389254153E-05 -0.00559641178311426"
        rpy="0 0 0" />
      <mass
        value="220.861213301065" />
      <inertia
        ixx="16.7371514079013"
        ixy="-0.00370529414581755"
        ixz="5.64238767898083"
        iyy="63.6679488186394"
        iyz="-0.000205405027519519"
        izz="56.8980174552881" />
    </inertial>
    <visual>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://2015_drawer_urdf_3a/meshes/bed_legs_link.STL" />
      </geometry>
      <material
        name="">
        <color
          rgba="1 1 0.752941176470588 1" />
      </material>
    </visual>
    <collision>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://2015_drawer_urdf_3a/meshes/bed_legs_link.STL" />
      </geometry>
    </collision>
  </link>
  <joint
    name="bed_legs_joint"
    type="revolute">
    <origin
      xyz="0.09699 0 0.0127"
      rpy="-1.4155E-16 -0.024774 -1.6506E-16" />
    <parent
      link="bed_roll_link" />
    <child
      link="bed_legs_link" />
    <axis
      xyz="0 1 0" />
    <limit
      lower="-1.8326"
      upper="1.39626"
      effort="0"
      velocity="0" />
  </joint>
  <link
    name="bed_feet_link">
    <inertial>
      <origin
        xyz="-0.465751345892896 -1.31458389206471E-05 -0.14018414790818"
        rpy="0 0 0" />
      <mass
        value="220.861213301065" />
      <inertia
        ixx="17.041249225985"
        ixy="-0.00369906896899946"
        ixz="6.62999962098898"
        iyy="63.6679488186394"
        iyz="-0.00029712740764438"
        izz="56.5939196372044" />
    </inertial>
    <visual>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://2015_drawer_urdf_3a/meshes/bed_feet_link.STL" />
      </geometry>
      <material
        name="">
        <color
          rgba="1 1 0.752941176470588 1" />
      </material>
    </visual>
    <collision>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://2015_drawer_urdf_3a/meshes/bed_feet_link.STL" />
      </geometry>
    </collision>
  </link>
  <joint
    name="bed_feet_joint"
    type="revolute">
    <origin
      xyz="0.16533 0 0.12301"
      rpy="-3.3441E-15 0.024774 3.1467E-15" />
    <parent
      link="bed_legs_link" />
    <child
      link="bed_feet_link" />
    <axis
      xyz="0 -1 0" />
    <limit
      lower="-0.785398"
      upper="1.5708"
      effort="0"
      velocity="0" />
  </joint>
  <link
    name="bed_back_link">
    <inertial>
      <origin
        xyz="0.00909211692765868 -1.31458389309267E-05 -0.118219915584304"
        rpy="0 0 0" />
      <mass
        value="220.861213301065" />
      <inertia
        ixx="17.0412486434188"
        ixy="-0.00369906898176745"
        ixz="6.62999788327738"
        iyy="63.6679488186394"
        iyz="-0.000297127245075865"
        izz="56.5939202197706" />
    </inertial>
    <visual>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://2015_drawer_urdf_3a/meshes/bed_back_link.STL" />
      </geometry>
      <material
        name="">
        <color
          rgba="1 1 0.752941176470588 1" />
      </material>
    </visual>
    <collision>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://2015_drawer_urdf_3a/meshes/bed_back_link.STL" />
      </geometry>
    </collision>
  </link>
  <joint
    name="bed_back_joint"
    type="revolute">
    <origin
      xyz="-0.30992 0 0.11281"
      rpy="-3.3737E-15 0.024774 -3.4292E-15" />
    <parent
      link="bed_legs_link" />
    <child
      link="bed_back_link" />
    <axis
      xyz="0 1 0" />
    <limit
      lower="-0.436332"
      upper="0.959931"
      effort="0"
      velocity="0" />
  </joint>
  <link
    name="bed_head_link">
    <inertial>
      <origin
        xyz="0.646472585216925 -1.31458389304239E-05 -0.0937097727011466"
        rpy="0 0 0" />
      <mass
        value="220.861213301065" />
      <inertia
        ixx="17.0412486434188"
        ixy="-0.0036990689821148"
        ixz="6.62999788327738"
        iyy="63.6679488186394"
        iyz="-0.000297127245120003"
        izz="56.5939202197706" />
    </inertial>
    <visual>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://2015_drawer_urdf_3a/meshes/bed_head_link.STL" />
      </geometry>
      <material
        name="">
        <color
          rgba="1 1 0.752941176470588 1" />
      </material>
    </visual>
    <collision>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://2015_drawer_urdf_3a/meshes/bed_head_link.STL" />
      </geometry>
    </collision>
  </link>
  <joint
    name="bed_head_joint"
    type="revolute">
    <origin
      xyz="-0.63738 0 -0.02451"
      rpy="-1.9567E-16 6.5971E-31 6.8272E-15" />
    <parent
      link="bed_back_link" />
    <child
      link="bed_head_link" />
    <axis
      xyz="0 1 0" />
    <limit
      lower="-1.5708"
      upper="1.5708"
      effort="0"
      velocity="0" />
  </joint>

  <joint 
    name="drawer0_bed_joint"
    type="fixed">
    <origin
      xyz="0.03833 0.19812 0.16699"
      rpy="0 0 -1.57" />
    <parent
      link="bed_legs_link" />
    <child
      link="drawer0_bed_link" />
    <xacro:default_fixed_joint/>
  </joint>

  <joint 
    name="drawer1_bed_joint"
    type="fixed">
    <origin
      xyz="-0.02467 -0.19812 0.16699"
      rpy="0 0 1.57" />
    <parent
      link="bed_legs_link" />
    <child
      link="drawer1_bed_link" />
    <xacro:default_fixed_joint/>
  </joint>

  <joint 
    name="drawer2_bed_joint"
    type="fixed">
    <origin
      xyz="-0.13262 0.19812 0.16699"
      rpy="0 0 -1.57" />
    <parent
      link="bed_legs_link" />
    <child
      link="drawer2_bed_link" />
    <xacro:default_fixed_joint/>
  </joint>

  <joint 
    name="drawer3_bed_joint"
    type="fixed">
    <origin
      xyz="-0.19612 -0.19812 0.16699"
      rpy="0 0 1.57" />
    <parent
      link="bed_legs_link" />
    <child
      link="drawer3_bed_link" />
    <xacro:default_fixed_joint/>
  </joint>


  <joint 
    name="drawer4_bed_joint"
    type="fixed">
    <origin
      xyz="-0.19821 0.19821 0.05374"
      rpy="0 0 -1.57" />
    <parent
      link="bed_back_link" />
    <child
      link="drawer4_bed_link" />
    <xacro:default_fixed_joint/>
  </joint>

  <joint 
    name="drawer5_bed_joint"
    type="fixed">
    <origin
      xyz="-0.26171 -0.19812 0.05374"
      rpy="0 0 1.57" />
    <parent
      link="bed_back_link" />
    <child
      link="drawer5_bed_link" />
    <xacro:default_fixed_joint/>
  </joint>

  <joint 
    name="drawer6_bed_joint"
    type="fixed">
    <origin
      xyz="-0.36966 0.19812 0.05374"
      rpy="0 0 -1.57" />
    <parent
      link="bed_back_link" />
    <child
      link="drawer6_bed_link" />
    <xacro:default_fixed_joint/>
  </joint>

  <joint 
    name="drawer7_bed_joint"
    type="fixed">
    <origin
      xyz="-0.43316 -0.19812 0.05374"
      rpy="0 0 1.57" />
    <parent
      link="bed_back_link" />
    <child
      link="drawer7_bed_link" />
    <xacro:default_fixed_joint/>
  </joint>

  <xacro:macro name="bed_link" params="drawer_number">
  <link
    name="drawer${drawer_number}_bed_link">
    <xacro:default_visual/>
  </link>
  </xacro:macro>

  <xacro:macro name="bed_base_joint" params="drawer_number">
  <joint
    name="drawer${drawer_number}_bed_base_joint"
    type="fixed">
    <xacro:default_origin />
    <parent
      link="drawer${drawer_number}_bed_link" />
    <child
      link="drawer${drawer_number}_base_link" />
    <axis
      xyz="0 0 1" />
    <limit
      lower="0"
      upper="0"
      effort="0"
      velocity="0" />
  </joint>
  </xacro:macro>

  <xacro:macro name="base_link" params="drawer_number">
  <link
    name="drawer${drawer_number}_base_link">
    <visual>
      <xacro:default_origin />
      <geometry>
        <mesh
          filename="package://2015_drawer_urdf_3a/meshes/base_link.STL" />
      </geometry>
      <xacro:material_1 />
    </visual>
    <collision>
      <xacro:default_origin />
      <geometry>
        <mesh
          filename="package://2015_drawer_urdf_3a/meshes/base_link.STL" />
      </geometry>
    </collision>
  </link>
  </xacro:macro>

  <xacro:macro name="rotation_link" params="drawer_number">
  <link
    name="drawer${drawer_number}_rotation_link">
    <visual>
      <xacro:default_origin />
      <geometry>
        <mesh
          filename="package://2015_drawer_urdf_3a/meshes/Rotation_link.STL" />
      </geometry>
      <xacro:material_1 />
    </visual>
    <collision>
      <xacro:default_origin />
      <geometry>
        <mesh
          filename="package://2015_drawer_urdf_3a/meshes/Rotation_link.STL" />
      </geometry>
    </collision>
  </link>
  </xacro:macro>

  <xacro:macro name="rotation_joint" params="drawer_number">
  <joint
    name="drawer${drawer_number}_rotation_joint"
    type="revolute">
    <xacro:default_origin />
    <parent
      link="drawer${drawer_number}_base_link" />
    <child
      link="drawer${drawer_number}_rotation_link" />
    <axis
      xyz="0 0 1" />
    <limit
      lower="-3.14159"
      upper="3.14159"
      effort="0"
      velocity="0" />
  </joint>
  </xacro:macro>

  <xacro:macro name="translation_link" params="drawer_number">
  <link
    name="drawer${drawer_number}_translation_link">
    <visual>
      <xacro:default_origin />
      <geometry>
        <mesh
          filename="package://2015_drawer_urdf_3a/meshes/Translation_link.STL" />
      </geometry>
      <xacro:material_2 />
    </visual>
    <collision>
      <xacro:default_origin />
      <geometry>
        <mesh
          filename="package://2015_drawer_urdf_3a/meshes/Translation_link.STL" />
      </geometry>
    </collision>
  </link>
  </xacro:macro>

  <xacro:macro name="translation_joint" params="drawer_number">
  <joint
    name="drawer${drawer_number}_translation_joint"
    type="prismatic">
    <xacro:default_origin />
    <parent
      link="drawer${drawer_number}_rotation_link" />
    <child
      link="drawer${drawer_number}_translation_link" />
    <axis
      xyz="1 0 0" />
    <limit
      lower="-0.2"
      upper="0"
      effort="0"
      velocity="0" />
  </joint>
  </xacro:macro>

  <xacro:macro name="dummy_link" params="drawer_number">
  <link
    name="drawer${drawer_number}_dummy_link">
    <visual>
      <xacro:default_origin />
      <geometry>
        <mesh
          filename="package://2015_drawer_urdf_3a/meshes/dummy_link.STL" />
      </geometry>
      <xacro:material_2 />
    </visual>
    <collision>
      <xacro:default_origin />
      <geometry>
        <mesh
          filename="package://2015_drawer_urdf_3a/meshes/dummy_link.STL" />
      </geometry>
    </collision>
  </link>
  </xacro:macro>

  <xacro:macro name="dummy_joint" params="drawer_number">
  <joint
    name="drawer${drawer_number}_dummy_joint"
    type="fixed">
    <origin
      xyz="-0.192576 0.0063436 0.11251"
      rpy="0 0 1.571" />
    <parent
      link="drawer${drawer_number}_translation_link" />
    <child
      link="drawer${drawer_number}_dummy_link" />
    <axis
      xyz="0 1 0" />
    <limit
      lower="0"
      upper="0"
      effort="0"
      velocity="0" />
  </joint>
  </xacro:macro>


  <xacro:macro name="drawer_set" params="drawer_number">
  <xacro:bed_link drawer_number="${drawer_number}"/>
  <xacro:bed_base_joint drawer_number="${drawer_number}"/>
  <xacro:base_link drawer_number="${drawer_number}"/>
  <xacro:rotation_link drawer_number="${drawer_number}"/>
  <xacro:rotation_joint drawer_number="${drawer_number}"/>
  <xacro:translation_link drawer_number="${drawer_number}"/>
  <xacro:translation_joint drawer_number="${drawer_number}"/>
  <xacro:dummy_link drawer_number="${drawer_number}"/>
  <xacro:dummy_joint drawer_number="${drawer_number}"/>
  </xacro:macro>

</robot>
